This directory contains Verilog HDL code that simulates 1-Wire communication.

To generate the dump file run (if Icarus Verilog is used):
$ ./build.py
TODO:
If a different simulator is used, append:
 tool="ncsim" (for NCSIM)
 tool="modelsim" (for ModelSim)
To change the sampling frequency, append:
 f=1000000 (frequency in HZ)

The SystemVerilog code is composed of three files:
onewire_tb.sv     - top level testbench
onewire_master.sv - 1-Wire master model
onewire_slave.sv  - 1-Wire slave model
Code in the top module performs requests from the master to generate a sequence
of accesses to the slave. This accesses are sampled at the the desired sample
rate (1MHz is suggested for normal mode). A VCD waveforms is also created.

Software requirements:
1. 'Python' is used as the scripting language
2. HDL simulator with SystemVerilog support, 'Icarus Verilog' and 'ModelSim' are
   supported out of the box
3. A VCD waveform viewer can be used for debugging, 'GTKWave' for example

The dump is meant to be oppened in sigrok:
sigrok-cli -i onewire.sr -a onewire:owr=0:pwr=1
